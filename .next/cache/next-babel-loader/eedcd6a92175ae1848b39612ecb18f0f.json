{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/mroudnitski/dev/koala/pages/blog/[slug].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Article from \"../../components/Blog/Article/Article\";\n\nvar Post = function Post() {\n  _s();\n\n  var slug = useRouter().query.slug;\n\n  var _useState = useState({\n    requestComplete: false,\n    data: null\n  }),\n      post = _useState[0],\n      setPost = _useState[1];\n\n  useEffect(function () {\n    fetch(\"\".concat(process.env.WP_API, \"/posts?slug=\").concat(slug, \"&_embed\")).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      data = data[0];\n      setPost({\n        requestComplete: true,\n        data: data\n      });\n    })[\"catch\"](function () {\n      return setPost({\n        requestComplete: true\n      });\n    });\n  }, [slug]);\n  var content = null;\n\n  if (!post.requestComplete) {\n    content = __jsx(\"div\", {\n      className: \"text-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }\n    }, __jsx(Spinner, {\n      className: \"mx-auto\",\n      variant: \"primary\",\n      role: \"status\",\n      animation: \"border\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }));\n  } else if (post.data) {\n    content = __jsx(Container, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, __jsx(Col, {\n      className: \"post mx-auto\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      href: \"/blog\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, \"Back to posts\"), __jsx(\"hr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }), __jsx(Article, {\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  return content ? content : \"Sorry... couldn't find what you were looking for\";\n};\n\n_s(Post, \"LxJmnrf6/HPx/WEJoGXk1mhIrB0=\", false, function () {\n  return [useRouter];\n});\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/mroudnitski/dev/koala/pages/blog/[slug].js"],"names":["useState","useEffect","useRouter","Container","Col","Spinner","Article","Post","slug","query","requestComplete","data","post","setPost","fetch","process","env","WP_API","then","res","json","content"],"mappings":";;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,OAAP,MAAoB,uCAApB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA;;AAAA,MACTC,IADS,GACAN,SAAS,GAAGO,KADZ,CACTD,IADS;;AAAA,kBAEOR,QAAQ,CAAC;AAC/BU,IAAAA,eAAe,EAAE,KADc;AAE/BC,IAAAA,IAAI,EAAE;AAFyB,GAAD,CAFf;AAAA,MAEVC,IAFU;AAAA,MAEJC,OAFI;;AAOjBZ,EAAAA,SAAS,CAAC,YAAM;AACda,IAAAA,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,MAAhB,yBAAqCT,IAArC,aAAL,CACGU,IADH,CACQ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KADR,EAEGF,IAFH,CAEQ,UAACP,IAAD,EAAU;AACdA,MAAAA,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAX;AACAE,MAAAA,OAAO,CAAC;AAAEH,QAAAA,eAAe,EAAE,IAAnB;AAAyBC,QAAAA,IAAI,EAAJA;AAAzB,OAAD,CAAP;AACD,KALH,WAMS;AAAA,aAAME,OAAO,CAAC;AAAEH,QAAAA,eAAe,EAAE;AAAnB,OAAD,CAAb;AAAA,KANT;AAOD,GARQ,EAQN,CAACF,IAAD,CARM,CAAT;AAUA,MAAIa,OAAO,GAAG,IAAd;;AACA,MAAI,CAACT,IAAI,CAACF,eAAV,EAA2B;AACzBW,IAAAA,OAAO,GACL;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,OAAD;AACE,MAAA,SAAS,EAAC,SADZ;AAEE,MAAA,OAAO,EAAC,SAFV;AAGE,MAAA,IAAI,EAAC,QAHP;AAIE,MAAA,SAAS,EAAC,QAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAUD,GAXD,MAWO,IAAIT,IAAI,CAACD,IAAT,EAAe;AACpBU,IAAAA,OAAO,GACL,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,GAAD;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,MAAC,OAAD;AAAS,MAAA,IAAI,EAAET,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF,CADF;AASD;;AAED,SAAOS,OAAO,GAAGA,OAAH,GAAa,kDAA3B;AACD,CA1CD;;GAAMd,I;UACaL,S;;;KADbK,I;AA4CN,eAAeA,IAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Article from \"../../components/Blog/Article/Article\";\n\nconst Post = () => {\n  const { slug } = useRouter().query;\n  const [post, setPost] = useState({\n    requestComplete: false,\n    data: null,\n  });\n\n  useEffect(() => {\n    fetch(`${process.env.WP_API}/posts?slug=${slug}&_embed`)\n      .then((res) => res.json())\n      .then((data) => {\n        data = data[0];\n        setPost({ requestComplete: true, data });\n      })\n      .catch(() => setPost({ requestComplete: true }));\n  }, [slug]);\n\n  let content = null;\n  if (!post.requestComplete) {\n    content = (\n      <div className=\"text-center\">\n        <Spinner\n          className=\"mx-auto\"\n          variant=\"primary\"\n          role=\"status\"\n          animation=\"border\"\n        />\n      </div>\n    );\n  } else if (post.data) {\n    content = (\n      <Container>\n        <Col className=\"post mx-auto\">\n          <a href=\"/blog\">Back to posts</a>\n          <hr />\n          <Article post={post} />\n        </Col>\n      </Container>\n    );\n  }\n\n  return content ? content : \"Sorry... couldn't find what you were looking for\";\n};\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}